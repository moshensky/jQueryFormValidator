!function(f){var d=function(a,b){this.options=b;this.$element=f(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",f.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};d.prototype={constructor:d,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var b=this,a=f.Event("show");this.$element.trigger(a);if(this.isShown||a.isDefaultPrevented()){return}this.isShown=true;this.escape();this.backdrop(function(){var c=f.support.transition&&b.$element.hasClass("fade");if(!b.$element.parent().length){b.$element.appendTo(document.body)}b.$element.show();if(c){b.$element[0].offsetWidth}b.$element.addClass("in").attr("aria-hidden",false);b.enforceFocus();c?b.$element.one(f.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")})},hide:function(a){a&&a.preventDefault();var b=this;a=f.Event("hide");this.$element.trigger(a);if(!this.isShown||a.isDefaultPrevented()){return}this.isShown=false;this.escape();f(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);f.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var a=this;f(document).on("focusin.modal",function(b){if(a.$element[0]!==b.target&&!a.$element.has(b.target).length){a.$element.focus()}})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var b=this,a=setTimeout(function(){b.$element.off(f.support.transition.end);b.hideModal()},500);this.$element.one(f.support.transition.end,function(){clearTimeout(a);b.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(a){var b=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=f.support.transition&&c;this.$backdrop=f('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?f.proxy(this.$element[0].focus,this.$element[0]):f.proxy(this.hide,this));if(h){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!a){return}h?this.$backdrop.one(f.support.transition.end,a):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(f.support.transition.end,a):a()}else{if(a){a()}}}}};var e=f.fn.modal;f.fn.modal=function(a){return this.each(function(){var b=f(this),c=b.data("modal"),h=f.extend({},f.fn.modal.defaults,b.data(),typeof a=="object"&&a);if(!c){b.data("modal",(c=new d(this,h)))}if(typeof a=="string"){c[a]()}else{if(h.show){c.show()}}})};f.fn.modal.defaults={backdrop:true,keyboard:true,show:true};f.fn.modal.Constructor=d;f.fn.modal.noConflict=function(){f.fn.modal=e;return this};f(document).on("click.modal.data-api",'[data-toggle="modal"]',function(a){var b=f(this),j=b.attr("href"),k=f(b.attr("data-target")||(j&&j.replace(/.*(?=#[^\s]+$)/,""))),c=k.data("modal")?"toggle":f.extend({remote:!/#/.test(j)&&j},k.data(),b.data());a.preventDefault();k.modal(c).one("hide",function(){b.focus()})})}(window.jQuery);